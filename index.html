<!doctype html>
<html xmlns="http://www.w3.org/1999/xhtml" xmlns:fb="http://www.facebook.com/2008/fbml">

<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="shortcut icon" href="https://www.vivalivetv.com/templates/newhome/images/favicon.ico" />
    <link rel="apple-touch-icon" sizes="114x114"
        href="https://www.vivalivetv.com/templates/newhome/images/favicon-114.png" />
    <link rel="apple-touch-icon" sizes="76x76"
        href="https://www.vivalivetv.com/templates/newhome/images/favicon-76.png" />
    <link rel="apple-touch-icon" sizes="120x120"
        href="https://www.vivalivetv.com/templates/newhome/images/favicon-120.png" />
    <link rel="apple-touch-icon" sizes="152x152"
        href="https://www.vivalivetv.com/templates/newhome/images/favicon-152.png" />
    <link rel="shortcut icon" sizes="128x128"
        href="https://www.vivalivetv.com/templates/newhome/images/favicon-128.png" />
    <link rel="shortcut icon" sizes="196x196"
        href="https://www.vivalivetv.com/templates/newhome/images/favicon-196.png" />
    <link rel="icon" href="https://www.vivalivetv.com/templates/newhome/images/favicon.ico" />
    <link rel="icon" type="image/png" href="https://www.vivalivetv.com/templates/newhome/images/favicon.png" />

    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@400;600;700&display=swap" rel="stylesheet">

    <meta http-equiv='X-UA-Compatible' content='requiresActiveX=true' />
    <meta http-equiv="Pragma" content="no-cache" />
    <meta http-equiv="Cache-Control" content="no-cache" />
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
    <meta http-equiv="content-language" content="es" />
    <meta property="fb:app_id" content="579935006301605" />



    <meta name="medium" content="video" />
    <meta name="title" content="Register Now - Create a Viva Live TV Account for Free" />
    <meta name="description"
        content="Sign up for a free Viva Live TV account. Choose your experience and get started in less than 30 seconds!" />
    <link rel="image_src" href="https://www.vivalivetv.com/templates/newhome/images/defaults/show.jpg" />

    <meta property="og:title" content="vivalivetv.com">
    <meta property="og:description" content="">
    <meta property="og:image" content="https://www.vivalivetv.com/templates/newhome/images/defaults/show.jpg">
    <meta property="og:site_name" content="vivalivetv.com">
    <meta property="og:url" content="https://www.vivalivetv.com/">
    <meta name="keywords" content="HD Streaming Video, Global IPTV,HD video platforms" />

    <title>Register Now - Create a Viva Live TV Account for Free</title>

    <link rel="stylesheet" type="text/css"
        href="https://www.vivalivetv.com/templates/newhome/css/bootstrap3/bootstrap.min.css?v=9.1.2" />
    <link rel="stylesheet" href="//netdna.bootstrapcdn.com/font-awesome/4.3.0/css/font-awesome.css">

    <link rel="stylesheet" href="https://www.vivalivetv.com/templates/newhome/css/schedule/schedule.css?v=9.1.2">
    <link rel="stylesheet" href="https://www.vivalivetv.com/templates/newhome/css/schedule/search.css?v=9.1.2">
    <link rel="stylesheet" href="//fonts.googleapis.com/css?family=Open+Sans:300,400,600">

    <link href="https://www.vivalivetv.com/templates/newhome/css/register.css?v=9.1.2" rel="stylesheet">

    <link rel="stylesheet" href="login-new-style.css">


    <script type="text/javascript">
        var www_root = "https://www.vivalivetv.com/";
        var www_secure_root = "https://www.vivalivetv.com/";
        var www_root_content = "https://www.vivalivetv.com/";
        var template_path = "newhome";
        var api_path = "https://www.vivalivetv.com/services/schedule/schedule.php";
        var user_id = 0;
        var epgstart = 0;
        var epgend = 0;
        var playing_channel_id = '';
        var facebook_app_id = '579935006301605';
        var currentForm = document.forms[0];
        var is_network_page = false;
    </script>

    <script src="https://www.vivalivetv.com/templates/newhome/js/jquery-1.11.3.min.js?v=9.1.2"></script>
    <script src="https://www.vivalivetv.com/templates/newhome/js/jquery.clickOutside.js?v=9.1.2"></script>
    <script src="https://www.vivalivetv.com/templates/newhome/js/bootstrap3/bootstrap.min.js?v=9.1.2"></script>
    <script src="https://www.vivalivetv.com/templates/newhome/js/search.typeahead.min.js?v=9.1.2"></script>
    <script src="https://www.vivalivetv.com/templates/newhome/js/underscore-min.js?v=9.1.2"></script>
    <script src="https://www.vivalivetv.com/templates/newhome/js/search_typeahead.js?v=9.1.2"></script>
    <script src="https://www.vivalivetv.com/templates/newhome/js/schedule/schedule_utils.js?v=9.1.2"></script>
    <script src="https://www.vivalivetv.com/templates/newhome/js/utils.js?v=9.1.2"></script>
    <script src="https://www.vivalivetv.com/templates/newhome/js/shopping-cart.js?v=9.1.2"></script>
    <script
        src="https://www.vivalivetv.com/templates/newhome/js/channel-manager/jquery.slimscroll.min.js?v=9.1.2"></script>
    <script>!function (d, s, id) { var js, fjs = d.getElementsByTagName(s)[0]; if (!d.getElementById(id)) { js = d.createElement(s); js.id = id; js.src = "//platform.twitter.com/widgets.js"; fjs.parentNode.insertBefore(js, fjs); } }(document, "script", "twitter-wjs");</script>
    <script src="https://apis.google.com/js/platform.js" async defer></script>
    <!-- Global site tag (gtag.js) - Google Analytics -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=GTM-TMMN688"></script>
    <script>
        window.dataLayer = window.dataLayer || [];
        function gtag() { dataLayer.push(arguments); }
        gtag('js', new Date());

        gtag('config', 'GTM-TMMN688');
    </script>

    <!-- ecommerce depends of google analytics tracker  -->
    <script>

    </script>



    <!-- Google Tag Manager -->
    <script>(function (w, d, s, l, i) {
            w[l] = w[l] || []; w[l].push({
                'gtm.start':
                    new Date().getTime(), event: 'gtm.js'
            }); var f = d.getElementsByTagName(s)[0],
                j = d.createElement(s), dl = l != 'dataLayer' ? '&l=' + l : ''; j.async = true; j.src =
                    'https://www.googletagmanager.com/gtm.js?id=' + i + dl; f.parentNode.insertBefore(j, f);
        })(window, document, 'script', 'dataLayer', 'GTM-TMMN688');</script>
    <!-- End Google Tag Manager -->

</head>

<body class="">

    <noscript><iframe src="https://www.googletagmanager.com/ns.html?id=GTM-TMMN688" height="0" width="0"
            style="display:none;visibility:hidden"></iframe></noscript>
    <!-- End Google Tag Manager (noscript) -->

    <div id="fb-root"></div>
    <script>

        (function (d, debug) {
            var js, id = 'facebook-jssdk', ref = d.getElementsByTagName('script')[0];
            if (d.getElementById(id)) { return; }
            js = d.createElement('script'); js.id = id; js.async = true;
            js.src = "//connect.facebook.net/en_US/sdk" + (debug ? "/debug" : "") + ".js";
            ref.parentNode.insertBefore(js, ref);
        }(document, /*debug*/ false));

        window.fbAsyncInit = function () {
            // init the FB JS SDK
            FB.init({
                appId: facebook_app_id, // App ID from the App Dashboard
                version: 'v2.10',
                channelUrl: www_root + 'services/facebook/channel.php',
                status: true, // check the login status upon init?
                cookie: true, // set sessions cookies to allow your server to access the session?
                xfbml: true  // parse XFBML tags on this page?
            });
        };

    </script>
    <div class="modal fade" tabindex="-1" id="myModal"></div>
    <div class="modal modal-theme-dark alertModal " tabindex="-1" role="dialog" id="alertModal">
        <div class="modal-dialog" role="document">
            <div class="modal-content">
                <div class="modal-header">
                    <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span
                            aria-hidden="true">&times;</span></button>
                    <h4 class="modal-title">Info</h4>
                </div>
                <div class="modal-body">
                    <div class="alert alert-info text-center margin-bottom-none" id="alertModalContent"></div>
                </div>
                <div class="modal-footer">
                    <button class="btn btn-larger btn-block btn-checkout-blue btn-primary"
                        data-dismiss="modal">OK</button>
                </div>
            </div><!-- /.modal-content -->
        </div><!-- /.modal-dialog -->
    </div><!-- /.modal -->

    <div class="modal hide mymodal" id="epgmodal"></div>
    <div class="modal modal-theme-dark fade" tabindex="-1" role="dialog" id="change-timezone-modal">
        <div class="modal-dialog">
            <div class="modal-content">
            </div><!-- /.modal-content -->
        </div><!-- /.modal-dialog -->
    </div><!-- /.modal -->
    <!-- main menu start -->
    <style>
        .myButton {
            background-color: #3F62A9;
            display: inline-block !important;
            cursor: pointer;
            color: #ffffff;
            font-family: 'Montserrat', sans-serif;
            font-size: 13px;
            font-weight: bold;
            padding: 10px 15px;
            text-decoration: none;
        }

        .myButton:active {
            position: relative;
            top: 1px;
        }

        .myButton h2 {
            font-size: 15px;
        }

        .myButton h1 {
            font-size: 15px;
        }
    </style>

    <script>
        window.fbAsyncInit = function () {
            // FB JavaScript SDK configuration and setup
            FB.init({
                appId: '684906042411125', // FB App ID
                cookie: true,  // enable cookies to allow the server to access the session
                xfbml: true,  // parse social plugins on this page
                version: 'v3.2' // use graph api version 2.8
            });

            // Check whether the user already logged in
            FB.getLoginStatus(function (response) {
                if (response.status === 'connected') {
                    //display user data
                    getFbUserData();
                }
            });
        };

        // Load the JavaScript SDK asynchronously
        (function (d, s, id) {
            var js, fjs = d.getElementsByTagName(s)[0];
            if (d.getElementById(id)) return;
            js = d.createElement(s); js.id = id;
            js.src = "//connect.facebook.net/en_US/sdk.js";
            fjs.parentNode.insertBefore(js, fjs);
        }(document, 'script', 'facebook-jssdk'));

        // Facebook login with JavaScript SDK
        function fbLogin() {
            FB.login(function (response) {
                if (response.authResponse) {
                    // Get and display the user profile data
                    getFbUserData();
                } else {
                    document.getElementById('status').innerHTML = 'User cancelled login or did not fully authorize.';
                }
            }, { scope: 'email' });
        }

        // Fetch the user profile data from facebook
        function getFbUserData() {
            FB.api('/me', { locale: 'en_US', fields: 'id,first_name,last_name,email,link,gender,locale,picture' },
                function (response) {
                    document.getElementById('fbLink').setAttribute("onclick", "fbLogout()");
                    document.getElementById('fbLink').innerHTML = 'Logout from Facebook';
                    document.getElementById('status').innerHTML = '<p>Thanks for logging in, ' + response.first_name + '!</p>';
                    document.getElementById('userData').innerHTML = '<h2>Facebook Profile Details</h2><p><img src="' + response.picture.data.url + '"/></p><p><b>FB ID:</b> ' + response.id + '</p><p><b>Name:</b> ' + response.first_name + ' ' + response.last_name + '</p><p><b>Email:</b> ' + response.email + '</p><p><b>Gender:</b> ' + response.gender + '</p><p><b>FB Profile:</b> <a target="_blank" href="' + response.link + '">click to view profile</a></p>';
                });
        }

        // Logout from facebook
        function fbLogout() {
            FB.logout(function () {
                document.getElementById('fbLink').setAttribute("onclick", "fbLogin()");
                document.getElementById('fbLink').innerHTML = '<h1>Log out<h2>';
                document.getElementById('userData').innerHTML = '';
                document.getElementById('status').innerHTML = '<p>You have successfully logout from Facebook.</p>';
            });
        }
        function saveUserData(userData) {
            $.post('userData.php', { oauth_provider: 'facebook', userData: JSON.stringify(userData) }, function () { return true; });
        }

        function getFbUserData() {
            FB.api('/me', { locale: 'en_US', fields: 'id,first_name,last_name,email,link,gender,locale,picture' },
                function (response) {
                    document.getElementById('fbLink').setAttribute("onclick", "fbLogout()");
                    document.getElementById('fbLink').innerHTML = 'Logout from Facebook';
                    document.getElementById('status').innerHTML = '<p>Thanks for logging in, ' + response.first_name + '!</p>';
                    document.getElementById('userData').innerHTML = '<h2>Facebook Profile Details</h2><p><img src="' + response.picture.data.url + '"/></p><p><b>FB ID:</b> ' + response.id + '</p><p><b>Name:</b> ' + response.first_name + ' ' + response.last_name + '</p><p><b>Email:</b> ' + response.email + '</p><p><b>Gender:</b> ' + response.gender + '</p><p><b>FB Profile:</b> <a target="_blank" href="' + response.link + '">click to view profile</a></p>';

                    // Save user data
                    saveUserData(response);
                });
        }
    </script>

    <div class="container-fluid">
        <div class="row">
            <div class="col-md-5 register-container">
                <div id="EPGheader">
                    <div class="container-fluid container-fluid-header">


                        <div class="navbar nav-top-header logo-CUSTOM">


                            <a href="https://www.vivalivetv.com/" class="logo"><img
                                    src="https://www.vivalivetv.com/templates/newhome/images/schedule/logo.png"
                                    class="pull-left" /></a>
                            <a href="https://www.vivalivetv.com/" class="favicon-logo"><img
                                    src="https://www.vivalivetv.com/templates/newhome/images/favicon-76.png"
                                    class="pull-left" /></a>
                            <!--   -->
                        </div>



                    </div>
                </div>
                <div class="title-left text-center">
                    Bienvenido a <br>
                    <spam class="semi-bold">VivaLiveTv Argentina</spam>
                </div>
                        <div class="  col-md-offset-1 col-md-10     col-xs-12 register-first-col sin-fondo">
                            <div class="register-form-top">
                                <input type="hidden" id="facebook_login_enabled" value="yes">
                                <input type="hidden" id="twitter_login_enabled" value="yes">
                                <input type="hidden" name="user_type" id="user_type" value="viewer" />

                                <input type="hidden" id="facebook_app_id" value="579935006301605">

                                <div id="status"></div>

                                <!-- Facebook login or logout button-->
                                <div class="center">
                                    <a class="myButton facebookButton" href="javascript:void(0);" onclick="fbLogin();"
                                        id="fbLink">
                                        <div class="iconoFacebook"><img src="Recurso_13.svg" alt="" height="20px"></div>
                                    </a>
                                </div>
                                <div class="ac-data" id="userData"></div>

                                <div class="row register-form " id="registerForm">
                                    <div class="row center text-divisor align-items-center">
                                        <div class="col-xs-3"><img src="linea-izquierda.png" alt="" class="line"></div>
                                        <div class="col-xs-6">
                                            <p class="title-sm">O registrate con tu
                                                correo
                                                electrónico</p>
                                        </div>
                                        <div class="col-xs-3"><img src="linea-derecha.png" alt="" class="line"></div>
                                    </div>
                                    <form action="https://www.vivalivetv.com/register" method="post" id="frm_register">

                                        <div class="flat-alert">

                                        </div>

                                        <div id="frmRegisterFields">

                                            <input type="hidden" id="oauth" name="oauth_id" value="">
                                            <label for="" class="label-registro">Nombre de Usuario*</label>
                                            <input type="text"
                                                class="form-control register-input  input-mandatory margin-top-big input-nuevo"
                                                id="user_username" name="user_username" value=""
                                                placeholder="Nombre de Usuario" />
                                            <div class="error_wrap"><span id="validateUsername"
                                                    class="help-block"></span></div>

                                            <label for="" class="label-registro">Correo Electrónico*</label>
                                            <input type="text"
                                                class="form-control register-input input-mandatory margin-top-big input-nuevo"
                                                id="user_email" name="user_email" value=""
                                                placeholder="Correo Electrónico" />
                                            <div class="error_wrap"><span id="validateEmail" class="help-block"></span>
                                            </div>

                                            <label for="" class="label-registro">Contraseña*</label>
                                            <input type="password"
                                                class="form-control register-input  input-mandatory margin-top-big input-nuevo"
                                                placeholder="Contraseña" name="user_password" id="user_password"
                                                value="" autocomplete="off" />
                                            <div class="error_wrap"><span id="validatePassword"
                                                    class="help-block"></span></div>

                                            <label for="" class="label-registro">Número de Teléfono*</label>
                                            <input type="text"
                                                class="form-control register-input input-mandatory margin-top-big input-nuevo"
                                                id="user_phone" value="" name="user_phone"
                                                placeholder="Número de Teléfono" />
                                            <div class="error_wrap"><span id="validatePhone" class="help-block"></span>
                                            </div>

                                            <label for="" class="label-registro">Código (Optional)</label>
                                            <div class="row">
                                                <div class="col-md-12 col-sm-12 col-xs-12">
                                                    <input type="text" class="form-control register-input input-nuevo"
                                                        id="dealer_referral_id" name="dealer_referral_id"
                                                        placeholder="Código (Optional)" value="" />
                                                    <div class="error_wrap"><span id="validateRefferalID"
                                                            class="help-block"></span></div>
                                                </div>

                                            </div>

                                        </div>
                                        <div class="row margin-top-big captcha" style="margin-top: 5px !important;">
                                            <div class="col-md-6 col-sm-6 col-xs-6 ">
                                                <img src="Recurso_15.png" alt="" width="215px">
                                            </div>
                                        </div>
                                        <div class="row margin-top-big register-bottom" id="viewerBottom">
                                            <div class="col-md-12 col-xs-12 col-sm-12">
                                                <button
                                                    class="form-control btn btn-primary btn-block btn-larger btn-classic-register disabled"
                                                    id="viewerSubmitButton" type="submit" disabled="disabled">
                                                </button>
                                            </div>
                                        </div>
                                        <div class="row margin-top-medium  terminos-condiciones">
                                            <p class="col-md-12 col-sm-12 col-xs-12  text-center">Al crear la cuenta
                                                aceptas
                                                los <a href="/page/terms-of-use" target="_blank">Términos de uso</a>

                                                y <a href="/page/privacy-policy" target="_blank">Políticas de
                                                    privacidad</a>.
                                            </p>
                                        </div>
                                    </form>
                                </div>
                            </div>
                            <div class="register-form-bottom register-form-bottom_CUSTOM">
                                <div class="text-center">
                                    <div class="row center">
                                        <div class="col-xs-3"><img src="linea-izquierda.png" alt="" class="line"></div>
                                        <div class="col-xs-6">
                                            <p class="title-sm">¿Ya tienes una cuenta?</p>
                                        </div>
                                        <div class="col-xs-3"><img src="linea-derecha.png" alt="" class="line"></div>
                                    </div>
                                    <a class="btn btn-primary btn-lg" href="https://www.vivalivetv.com/login"
                                        alt="login"
                                        style="border-radius: 50px; background-color: transparent;">
                                        <h3 style="color:white; margin-top: 0px; margin-bottom: 2px; font-size: large;">
                                            Iniciar
                                            Sesión</h3>
                                    </a>
                                </div>
                            </div>
                        </div>
            </div>
            <div class="col-md-7 text-center">
                <div class="container-fluid presentacion">
                    <div class="title text-center">
                        <h1> Cientos de canales de televisión
                            <span class="amarillo bold">EN VIVO</span> a tu alcance
                        </h1>
                    </div>
                    <div class="dispositivos-contenedor">
                        <img src="image-header.png" alt="" id="dispositivos">
                    </div>
                    <div class="title text-center agredecimientos">
                        <h1 class="bold titulo-agradecimientos"> VivaLiveTv llega a Argentina gracias a:
                        </h1>
                        <img src="logos.png" alt="" class="dispositivos-titulo">
                    </div>
                </div>
            </div>
        </div>



    </div>
    <div class="modal modal-theme-dark fade margin-top-big" tabindex="-1" role="dialog" id="info-redeem-modal">
        <div class="modal-dialog">
            <div class="modal-content">
                <div class="modal-header">
                    <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span
                            aria-hidden="true">&times;</span></button>
                    <h4 class="modal-title">Coupon Code</h4>
                </div>
                <div class="modal-body">
                    <div class="text-center"> <img
                            src="https://www.vivalivetv.com/templates/newhome/images/register/bestbuy-bottom-logo-big.png">
                    </div>
                    <div class="margin-top-big description">This may be a in-store purchase or a gift with purchase. If
                        you received a gift with purchase please check your email for the Coupon Code.</div>
                </div>
            </div><!-- /.modal-content -->
        </div><!-- /.modal-dialog -->
    </div><!-- /.modal -->


    </div><!-- .main-content -->
    </div><!-- .container-fluid -->
    <div id="shadow_under" class="row"></div>





    <div class="push"></div>
    </div>
    <!--.wrapper -->

    <script type="text/javascript">
        $(document).ready(function () {
            var footer_height = $('.footer').height();
            $('.footer').css({ 'margin-top': '-' + footer_height + 'px' });
            $('.push').css({ 'height': footer_height + 'px' });
        });
    </script>



    <script type="text/javascript">
        $(document).ready(function () {
            var support_message = false;
            if (support_message == true) {
                trigger_modal('m/support_message', true, 'show-support-message-modal');
            }
        });
    </script>




    <script type="text/javascript">
        var module_affiliates = "";
    </script>


    <script src="https://www.google.com/recaptcha/api.js" async defer></script>
    <script id="result-template"
        type="text/x-handlebars-template"><div class="ProfileCard u-cf"><img class="ProfileCard-avatar" src="{{thumb}}"><div class="ProfileCard-details"><div class="ProfileCard-realName">{{username}}&nbsp;({{id_str}})</div><div class="muted muted-details">{{name}}<div class="ProfileCard-screenName">{{#if city}}, {{city}}{{/if}}{{#if state}}, {{state}}{{/if}}</div></div></div></div></script>



    <script id="empty-template"
        type="text/x-handlebars-template"><div class="ProfileCard u-cf tt-suggestion tt-selectable"><div class="ProfileCard-details"><div class="ProfileCard-realName">Your search turned up 0 results</div></div></div></script>


    <script src="https://www.vivalivetv.com/templates/newhome/js/typeahead/handlebars.js"></script>
    <script src="https://www.vivalivetv.com/templates/newhome/js/typeahead/typeahead.bundle.min.js"></script>


    <script type="text/javascript">
        var dict_create_account_button = 'Crear cuenta';
        var dict_fill_data_button = 'Crear cuenta';

        var phone_length_error = 'Invalid characters in phone number. Only digits (0 to 9) and the following characters are allowed: \'+\', \'(\' and \')\', dash (-), dot (.) and space. For example 123-123-1234';
        var captcha_length_error = 'Invalid validation code';
        var password_length_error = 'Password must be at least 6 characters.';
        var password_must_be_the_same_error = 'Passwords must be the same.';
        var catchaSet = "6Le56SwUAAAAAEd6vog539efwhfX702mrExpiq8N";
        var redeem_request = "";


        var typeahead = jQuery.fn.typeahead.noConflict();
        jQuery.fn._typeahead = typeahead;

        var $infoDetailsModal = $('#info-redeem-modal');
        $('#redeem_info').click(function (e) {
            e.preventDefault();
            $('#info-redeem-modal').modal('show');
            return false;
        });

        function recaptchaCallback() {
            $('html, body').animate({
                scrollTop: $('#google-recaptcha').offset().top - 100
            }, 800);
            validCaptcha = true;
            validateRegisterForm();
        }

        $(document).ready(function () {

            // Affiliate search
            var affiliates, template, empty;

            $.support.cors = false;

            template = Handlebars.compile($("#result-template").html());
            empty = Handlebars.compile($("#empty-template").html());
            var affiliates = new Bloodhound({
                identify: function (o) { return o.id_str; },
                datumTokenizer: Bloodhound.tokenizers.obj.whitespace('name'),
                queryTokenizer: Bloodhound.tokenizers.whitespace,
                dupDetector: function (a, b) { return a.id_str === b.id_str; },
                prefetch: 'https://www.vivalivetv.com/index.php?module=shared/search_affiliates_prefetch',
                remote: {
                    url: 'https://www.vivalivetv.com/index.php?module=shared/search_affiliates&q=%QUERY',
                    wildcard: '%QUERY'
                }
            });

            // 1. clear suggestions loaded from local and prefetch
            affiliates.clear();
            // 2. clear prefetch data stored in local storage
            affiliates.clearPrefetchCache();
            // 3. clear cache of responses generated by remote requests
            affiliates.clearRemoteCache();
            // 4. reinitialize the suggestion engine i.e. load data from `local` and `prefetch`
            affiliates.initialize(true); // have to pass true in order to reinitialize

            function affiliatesWithDefaults(q, sync, async) {

                if (q === '') {
                    sync(affiliates.get());
                    async([]);
                } else {
                    if (q.indexOf("Referred by") >= 0) {
                        var start_pos = q.indexOf('(') + 1;
                        var end_pos = q.indexOf(')', start_pos);
                        var q = q.substring(start_pos, end_pos);
                    }

                    affiliates.search(q, sync, async);
                }
            }

            $('.affSearch')._typeahead(
                {
                    hint: true,
                    highlight: true
                }, {
                name: 'affiliates',
                display: function (o) {

                    var line = "Referred by " + o.username + " (" + o.id_str + ") " + o.name;
                    if (o.city) {
                        line += ", " + o.city;
                    }

                    if (o.state) {
                        line += ", " + o.state;
                    }
                    return line;
                },
                displayKey: function (o) {
                    var line = "Referred by " + o.username + " (" + o.id_str + ") " + o.name;
                    if (o.city) {
                        line += ", " + o.city;
                    }

                    if (o.state) {
                        line += ", " + o.state;
                    }
                    return line;
                },
                source: affiliatesWithDefaults,
                limit: 100,
                templates: {
                    suggestion: template,
                    empty: empty
                }
            }).on('typeahead:asyncrequest', function () {
                $('.Typeahead-spinner').show();
            }).on('typeahead:asynccancel typeahead:asyncreceive', function () {
                $('.Typeahead-spinner').hide();
            });




            $('.affSearch').bind('_typeahead:close', function () {

                var q = $('#userReferralId').val();
                if (q.indexOf("Referred by") >= 0) {
                    var start_pos = q.indexOf('(') + 1;
                    var end_pos = q.indexOf(')', start_pos);
                    q = q.substring(start_pos, end_pos);
                }

                validateUserReferralIdFctSimple(q);
            });

            var validateUserReferralId = $('#validateUserReferralId');
            function validateUserReferralIdFctSimple(value) {
                if (value) {
                    $('#userReferralId').addClass('input-loader');
                    validateUserReferralId.empty();
                    validateUserReferralId.timer = setTimeout(function () {
                        no_history_server_post(
                            { m: 'register', action: 'check_referral_id', id: value },
                            function (data) {
                                $('#userReferralId').removeClass('input-loader');
                                if (data.content == 'ok') {
                                    $('#userReferralId').addClass('input-checked');
                                    $('#userReferralId').parent('.control-group').removeClass('error');
                                    validateUserReferralId.removeClass('register_error');
                                    validReferralId = true;
                                } else {
                                    $('#userReferralId').removeClass('input-checked');
                                    $('#userReferralId').parent('.control-group').addClass('error');
                                    validateUserReferralId.html(data.content);
                                    validateUserReferralId.addClass('register_error');
                                    validReferralId = false;
                                }
                                validateRegisterForm();
                            }
                        );
                    }, 200);
                }
            }

        });

    </script>
    <script type="text/javascript" src="https://www.vivalivetv.com/templates/newhome/js/register.js?v=9.1.2"></script>


</body>

</html>
